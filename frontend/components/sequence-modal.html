<!-- DEPRECATED: Dynamic Parameter Sequences Modal - Use inline controls instead -->
<!-- This modal is no longer used. Sequences are now managed via inline controls. -->
<div id="sequenceModal" style="display: none !important;">
    <div class="sequence-modal-content">
        <!-- Header -->
        <div class="sequence-modal-header">
            <h3>Parameter Sequence: <span id="sequenceParameterName">-</span></h3>
            <span class="sequence-modal-close" onclick="sequenceManager.closeEditor()">&times;</span>
        </div>
        
        <!-- Body -->
        <div class="sequence-modal-body">
            <!-- Type Selector -->
            <div class="sequence-type-selector">
                <button class="sequence-type-btn active" data-type="audio" onclick="sequenceManager.selectType('audio')">
                    ðŸŽµ Audio Reactive
                </button>
                <button class="sequence-type-btn" data-type="lfo" onclick="sequenceManager.selectType('lfo')">
                    ðŸŒŠ LFO
                </button>
                <button class="sequence-type-btn" data-type="timeline" onclick="sequenceManager.selectType('timeline')">
                    ðŸ“ˆ Timeline
                </button>
            </div>
            
            <!-- Audio Reactive Controls -->
            <div id="audioControls" class="sequence-controls" style="display: block;">
                <!-- Audio Status -->
                <div class="audio-status-indicator">
                    <div id="audioStatusDot" class="audio-status-dot"></div>
                    <span id="audioStatusText" class="audio-status-text">Audio analyzer stopped</span>
                    <button class="sequence-btn-primary" style="margin-left: auto;" onclick="sequenceManager.startAudioAnalyzer()">
                        Start
                    </button>
                    <button class="sequence-btn-secondary" onclick="sequenceManager.stopAudioAnalyzer()">
                        Stop
                    </button>
                </div>
                
                <!-- Audio Feature Selection -->
                <div class="sequence-form-group">
                    <label>Audio Feature</label>
                    <select id="audioFeature" class="sequence-form-control">
                        <option value="rms">RMS Level</option>
                        <option value="peak">Peak</option>
                        <option value="bass">Bass (20-250Hz)</option>
                        <option value="mid">Mid (250-4000Hz)</option>
                        <option value="treble">Treble (4000-20000Hz)</option>
                        <option value="beat">Beat Detection</option>
                    </select>
                </div>
                
                <!-- Range Controls -->
                <div class="sequence-form-row">
                    <div class="sequence-form-group">
                        <label>Min Value</label>
                        <input type="number" id="audioMinValue" class="sequence-form-control" value="0" step="1">
                    </div>
                    <div class="sequence-form-group">
                        <label>Max Value</label>
                        <input type="number" id="audioMaxValue" class="sequence-form-control" value="100" step="1">
                    </div>
                </div>
                
                <!-- Smoothing -->
                <div class="sequence-form-group">
                    <label>Smoothing (Attack/Release): <span id="audioSmoothingValue">0.1</span></label>
                    <input type="range" id="audioSmoothing" class="sequence-slider" min="0" max="1" step="0.01" value="0.1" 
                           oninput="document.getElementById('audioSmoothingValue').textContent = this.value">
                </div>
                
                <!-- Invert -->
                <div class="sequence-form-group">
                    <label>
                        <input type="checkbox" id="audioInvert" class="sequence-checkbox">
                        Invert (1 - value)
                    </label>
                </div>
                
                <!-- Audio Spectrum Visualization -->
                <div class="audio-spectrum-container">
                    <canvas id="audioSpectrumCanvas" class="audio-spectrum-canvas" width="600" height="100"></canvas>
                </div>
            </div>
            
            <!-- LFO Controls -->
            <div id="lfoControls" class="sequence-controls" style="display: none;">
                <!-- Waveform Selection -->
                <div class="sequence-form-group">
                    <label>Waveform</label>
                    <select id="lfoWaveform" class="sequence-form-control" onchange="sequenceManager.drawLFOPreview()">
                        <option value="sine">Sine</option>
                        <option value="square">Square</option>
                        <option value="triangle">Triangle</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="random">Random</option>
                    </select>
                </div>
                
                <!-- Frequency -->
                <div class="sequence-form-group">
                    <label>Frequency (Hz): <span id="lfoFrequencyValue">1.0</span></label>
                    <input type="range" id="lfoFrequency" class="sequence-slider" min="0.01" max="10" step="0.01" value="1.0" 
                           oninput="document.getElementById('lfoFrequencyValue').textContent = this.value; sequenceManager.drawLFOPreview()">
                </div>
                
                <!-- Amplitude & Phase -->
                <div class="sequence-form-row">
                    <div class="sequence-form-group">
                        <label>Amplitude: <span id="lfoAmplitudeValue">1.0</span></label>
                        <input type="range" id="lfoAmplitude" class="sequence-slider" min="0" max="1" step="0.01" value="1.0" 
                               oninput="document.getElementById('lfoAmplitudeValue').textContent = this.value">
                    </div>
                    <div class="sequence-form-group">
                        <label>Phase: <span id="lfoPhaseValue">0.0</span></label>
                        <input type="range" id="lfoPhase" class="sequence-slider" min="0" max="1" step="0.01" value="0.0" 
                               oninput="document.getElementById('lfoPhaseValue').textContent = this.value">
                    </div>
                </div>
                
                <!-- Range Controls -->
                <div class="sequence-form-row">
                    <div class="sequence-form-group">
                        <label>Min Value</label>
                        <input type="number" id="lfoMinValue" class="sequence-form-control" value="0" step="1">
                    </div>
                    <div class="sequence-form-group">
                        <label>Max Value</label>
                        <input type="number" id="lfoMaxValue" class="sequence-form-control" value="100" step="1">
                    </div>
                </div>
                
                <!-- LFO Waveform Preview -->
                <canvas id="lfoPreviewCanvas" class="lfo-preview-canvas" width="600" height="100"></canvas>
            </div>
            
            <!-- Timeline Controls -->
            <div id="timelineControls" class="sequence-controls" style="display: none;">
                <!-- Add Keyframe -->
                <div class="sequence-form-row">
                    <div class="sequence-form-group">
                        <label>Time (seconds)</label>
                        <input type="number" id="keyframeTime" class="sequence-form-control" value="0" step="0.1" min="0">
                    </div>
                    <div class="sequence-form-group">
                        <label>Value</label>
                        <input type="number" id="keyframeValue" class="sequence-form-control" value="100" step="1">
                    </div>
                </div>
                <button class="timeline-add-keyframe" onclick="sequenceManager.addTimelineKeyframe()">
                    âž• Add Keyframe
                </button>
                
                <!-- Keyframes List -->
                <div class="sequence-form-group" style="margin-top: 15px;">
                    <label>Keyframes</label>
                    <div id="timelineKeyframes" class="timeline-keyframes-list">
                        <p style="color: #666; text-align: center;">No keyframes yet</p>
                    </div>
                </div>
                
                <!-- Interpolation & Loop -->
                <div class="sequence-form-row">
                    <div class="sequence-form-group">
                        <label>Interpolation</label>
                        <select id="timelineInterpolation" class="sequence-form-control" onchange="sequenceManager.drawTimelinePreview()">
                            <option value="linear">Linear</option>
                            <option value="ease_in">Ease In</option>
                            <option value="ease_out">Ease Out</option>
                            <option value="ease_in_out">Ease In/Out</option>
                            <option value="step">Step</option>
                        </select>
                    </div>
                    <div class="sequence-form-group">
                        <label>Loop Mode</label>
                        <select id="timelineLoopMode" class="sequence-form-control">
                            <option value="once">Once</option>
                            <option value="loop">Loop</option>
                            <option value="ping_pong">Ping-Pong</option>
                        </select>
                    </div>
                </div>
                
                <!-- Duration -->
                <div class="sequence-form-group">
                    <label>Duration (seconds)</label>
                    <input type="number" id="timelineDuration" class="sequence-form-control" value="10.0" step="0.1" min="0.1" 
                           onchange="sequenceManager.drawTimelinePreview()">
                </div>
                
                <!-- Timeline Preview -->
                <canvas id="timelineCanvas" class="timeline-canvas" width="600" height="150"></canvas>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="sequence-modal-footer">
            <button class="sequence-btn-danger" onclick="sequenceManager.deleteSequence()" id="deleteSequenceBtn">
                Delete Sequence
            </button>
            <button class="sequence-btn-secondary" onclick="sequenceManager.closeEditor()">
                Cancel
            </button>
            <button class="sequence-btn-primary" onclick="sequenceManager.saveSequence()">
                Save Sequence
            </button>
        </div>
    </div>
</div>
